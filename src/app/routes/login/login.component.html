<div class="relative h-dvh w-dvw grid place-items-center dark:bg-gray-800">
	<div class="absolute top-4 right-4">
		@if (darkModeService.darkModeSignal()) {
		<p-button icon="pi pi-moon" outlined="true" (onClick)="toggleDarkMode()" />
		} @else {
		<p-button icon="pi pi-sun" outlined="true" (onClick)="toggleDarkMode()" />
		}
	</div>
	<form [formGroup]="loginForm" class="border rounded-md p-8 flex flex-col gap-4" (ngSubmit)="onSubmit()">
		<div class="mb-4 text-center">
			<h1 class="my-3 text-4xl font-bold dark:text-gray-50">
				@if(isRegister) { Sign up } @else { Sign in }
			</h1>
			<p class="text-sm dark:text-gray-400">
				@if(isRegister) { Sign up to create an account } @else { Sign in to access your account }
			</p>
		</div>
		<div class="flex flex-col gap-2">
			<label for="email" class="dark:text-gray-50">Email</label>
			<p-iconField iconPosition="left">
				<p-inputIcon styleClass="pi pi-at" />
				<input type="email" name="email" id="email" pInputText placeholder="leroy@jenkins.com" autocomplete="off"
					class="w-full border rounded-md dark:border-gray-300 dark:bg-gray-50 dark:text-gray-800"
					formControlName="email" />
			</p-iconField>
			@if(email) {
			<div>
				@if(email.errors?.['required']) {
				<small class="p-error">Email is required.</small>
				} @else if(email.errors?.['email']) {
				<small class="p-error">Enter a valid email address.</small>
				}
			</div>
			}
		</div>
		<div class="flex flex-col gap-2">
			<label for="password" class="dark:text-gray-50">Password</label>
			<p-iconField iconPosition="left">
				<p-inputIcon styleClass="pi pi-lock" />
				<input type="password" name="password" id="password" pInputText autocomplete="off"
					class="w-full border rounded-md dark:border-gray-300 dark:bg-gray-50 dark:text-gray-800"
					formControlName="password" />
			</p-iconField>
			@if(password) {
			<div>
				@if(password.errors?.['required']) {
				<small class="p-error">Password is required.</small>
				} @else if(password.errors?.['minlength']) {
				<small class="p-error">Password must be at least 6 characters.</small>
				} @else if(password.errors?.['maxlength']) {
				<small class="p-error">Password cannot exceed 16 characters.</small>
				}
			</div>
			}

		</div>
		@if(isRegister) {
		<div class="flex flex-col gap-2">
			<label for="confirmPassword" class="dark:text-gray-50">Confirm Password</label>
			<p-iconField iconPosition="left">
				<p-inputIcon styleClass="pi pi-lock" />
				<input type="password" name="confirmPassword" id="confirmPassword" pInputText autocomplete="off"
					class="w-full border rounded-md dark:border-gray-300 dark:bg-gray-50 dark:text-gray-800"
					formControlName="confirmPassword" />
			</p-iconField>
			@if(confirmPassword) {
			<div>
				@if(confirmPassword.errors?.['required']) {
				<small class="p-error">Confirm Password is required.</small>
				} @else if(confirmPassword.errors?.['minlength']) {
				<small class="p-error">Confirm Password must be at least 6 characters.</small>
				} @else if(confirmPassword.errors?.['maxlength']) {
				<small class="p-error">Confirm Password cannot exceed 16 characters.</small>
				}
			</div>
			}

		</div>
		}
		<div class="space-y-2">
			<div>
				<button type="submit"
					class="w-full px-8 py-3 border font-semibold rounded-md dark:bg-default-600 dark:text-gray-50">
					@if(isRegister) { Sign up } @else { Sign in }
				</button>
			</div>
			<p class="px-6 text-sm text-center dark:text-gray-400">
				@if(isRegister) { Already have an account? } @else { Don't have an account yet? }
				<a rel="noopener noreferrer" class="hover:underline dark:text-default-600" (click)="onRegisterClick()">
					@if(isRegister) { Sign in } @else { Sign up }
				</a>.
			</p>
		</div>
	</form>
</div>